<!-- Add Property Modal -->
<div id="add-property-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50">
    <div class="bg-white w-full max-w-lg p-6 rounded-lg shadow-lg max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold">Add New Property</h2>
            <button id="closeModalButton" class="text-gray-500 hover:text-black">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" 
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 6L6 18"></path>
                    <path d="M6 6l12 12"></path>
                </svg>
            </button>
        </div>

        <!-- Scrollable content section -->
        <div class="overflow-y-auto" style="max-height: 70vh;">
            <form id="add-property-form" class="space-y-8">
                <!-- Property Name -->
                <div class="space-y-2">
                    <label class="text-sm font-medium">Property Name</label>
                    <input type="text" placeholder="Sunset Villa" 
                        class="w-full h-10 rounded-md border px-3 py-2 text-sm" required>
                    <p class="text-[0.8rem] text-gray-500">Enter a unique name for this property.</p>
                </div>

                <!-- Address -->
                <div class="space-y-2">
                    <label class="text-sm font-medium">Address</label>
                    <textarea placeholder="123 Ocean View Dr, Beach City, BC 12345" 
                        class="w-full rounded-md border px-3 py-2 text-sm" required></textarea>
                </div>

                <!-- Monthly Rent and Total Invested -->
                <div class="flex space-x-4">
                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Monthly Rent</label>
                        <div class="relative">
                            <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3 top-1/2 
                                transform -translate-y-1/2 h-4 w-4 text-gray-500" fill="none" 
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" x2="12" y1="2" y2="22"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <input type="number" placeholder="2500" 
                                class="w-full h-10 pl-8 rounded-md border px-3 py-2 text-sm" required>
                        </div>
                    </div>

                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Total Invested</label>
                        <div class="relative">
                            <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3 top-1/2 
                                transform -translate-y-1/2 h-4 w-4 text-gray-500" fill="none" 
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" x2="12" y1="2" y2="22"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <input type="number" placeholder="250000" 
                                class="w-full h-10 pl-8 rounded-md border px-3 py-2 text-sm" required>
                        </div>
                    </div>
                </div>

                <!-- Portfolio and Dwelling Type -->
                <div class="flex space-x-4">
                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Portfolio</label>
                        <select id="portfolio-select" class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                            {% if portfolios %}
                                {% for portfolio in portfolios %}
                                    <option value="{{ portfolio.id }}">{{ portfolio.name }}</option>
                                {% endfor %}
                            {% endif %}
                            <option value="create">Create New Portfolio</option>
                        </select>
                    </div>

                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Dwelling Type</label>
                        <select class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                            <option>Select a type</option>
                            <option value="Single Family">Single Family</option>
                            <option value="Duplex">Duplex</option>
                            <option value="3-Plex">3-Plex</option>
                            <option value="4-Plex">4-Plex</option>
                            <option value="Condo">Condo</option>
                            <option value="Townhouse">Townhouse</option>
                            <option value="Apartment">Apartment</option>
                        </select>
                    </div>
                </div>

                <!-- Image URL -->
                <div class="space-y-2">
                    <label class="text-sm font-medium">Thumbnail URL</label>
                    <input type="url" id="image-url" placeholder="https://example.com/property-image.jpg" 
                        class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                    <p class="text-[0.8rem] text-gray-500">If left empty, a default image will be used.</p>
                </div>

                <!-- Purchase Date and Last Maintenance Date -->
                <div class="flex space-x-4">
                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Purchase Date</label>
                        <input type="date" class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                    </div>
                    <div class="space-y-2 flex-1">
                        <label class="text-sm font-medium">Last Maintenance Date</label>
                        <input type="date" class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                    </div>
                </div>

                <!-- Badges -->
                <div class="space-y-2">
                    <label class="text-sm font-medium">Badges</label>
                    <input type="text" placeholder="New, Pet Friendly, Furnished" 
                        class="w-full h-10 rounded-md border px-3 py-2 text-sm">
                    <p class="text-[0.8rem] text-gray-500">Enter badges separated by commas (e.g., "New, Pet Friendly").</p>
                </div>

                <!-- Submit and Cancel Buttons -->
                <div class="flex justify-end space-x-2">
                    <button type="button" id="closeModalButton" 
                        class="px-4 py-2 rounded-md bg-gray-200 text-sm hover:bg-gray-300">Cancel</button>
                    <button type="submit" 
                        class="px-4 py-2 rounded-md bg-blue-600 text-white text-sm hover:bg-blue-500">
                        Save Property
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="portfolio-data" style="display: none;">
    {{ portfolios | tojson | safe }}
</div>
<script src="{{ url_for('static', filename='js/add_property_modal.js') }}"></script>

