{% extends "base.html" %}

{% block content %}
<h2 class="text-4xl font-bold mb-8">Welcome, {{ current_user.username }}!</h2>

<!-- Display property management overview -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <div class="bg-gradient-to-br from-primary to-primary-foreground text-primary-foreground transition-all duration-300 hover:shadow-lg p-6 rounded-lg">
        <h5 class="text-lg font-medium">Total Properties</h5>
        <div class="text-3xl font-bold">{{ properties|length }}</div>
        <p class="text-xs opacity-80 mt-1">Across all locations</p>
    </div>

    <div class="transition-all duration-300 hover:shadow-lg p-6 rounded-lg">
        <h5 class="text-lg font-medium">Total Tenants</h5>
        <div class="text-3xl font-bold">{{ tenants|length }}</div>
        <p class="text-xs opacity-80 mt-1">Active leases</p>
    </div>

    <div class="transition-all duration-300 hover:shadow-lg p-6 rounded-lg">
        <h5 class="text-lg font-medium">Documents</h5>
        <div class="text-3xl font-bold">{{ documents|length }}</div>
        <p class="text-xs opacity-80 mt-1">Total uploaded</p>
    </div>

    <div class="bg-gradient-to-br from-secondary to-secondary-foreground text-secondary-foreground transition-all duration-300 hover:shadow-lg p-6 rounded-lg">
        <h5 class="text-lg font-medium">Total Rent</h5>
        <div class="text-3xl font-bold">
            ${{ properties|sum:'rent_amount' }}
        </div>
        <p class="text-xs opacity-80 mt-1">Monthly income</p>
    </div>
</div>

<!-- Render Properties -->
<div class="mt-8">
    <h3 class="text-2xl font-bold mb-4">Your Properties</h3>
    {% if properties %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for property in properties %}
                <div class="transition-all duration-300 hover:shadow-lg p-6 rounded-lg bg-white">
                    <h5 class="font-bold">{{ property.name }}</h5>
                    <p class="text-sm">{{ property.address }}</p>
                    <p class="font-semibold">Rent: ${{ property.rent_amount }}</p>
                    <p class="text-xs {{ 'bg-green-100 text-green-800' if property.vacancy_status == 'Occupied' else 'bg-red-100 text-red-800' }} rounded-full px-2 py-1 mt-2 inline-block">
                        {{ property.vacancy_status }}
                    </p>
                    <a href="{{ url_for('property_detail', property_id=property.id) }}" class="mt-4 btn btn-outline-primary w-full">View Details</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>You don't have any properties yet. Add your first property now!</p>
        <a href="{{ url_for('add_property') }}" class="btn btn-success mt-3">Add New Property</a>
    {% endif %}
</div>

<!-- Additional Features -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
    <div class="transition-all duration-300 hover:shadow-lg p-6 rounded-lg bg-white">
        <h5 class="font-bold">Payments</h5>
        <p class="text-sm">View and manage payments.</p>
        <a href="#" class="btn btn-primary">Payment Center</a>
    </div>

    <div class="transition-all duration-300 hover:shadow-lg p-6 rounded-lg bg-white">
        <h5 class="font-bold">Messages</h5>
        <p class="text-sm">Communication center.</p>
        <a href="#" class="btn btn-primary">View Messages</a>
    </div>
</div>

{% endblock %}
